# 5.5 The SDN Control Plane

La idea de **SDN (Software-Defined Networking)** es separar el **data plane** (donde se reenvían paquetes) del **control plane** (donde se decide cómo reenviar).
En vez de que cada router ejecute protocolos de routing y mantenga su tabla, un **SDN controller centralizado** toma esas decisiones y las distribuye a los switches/routers .


## 5.5.1 The SDN Control Plane: SDN Controller and Network-control Applications

### Componentes principales

* **SDN Controller:**

  * Es el “sistema operativo de la red”.
  * Tiene una visión global de la topología y del estado de los dispositivos.
  * Instala reglas en los switches (match-action) y responde consultas de ellos.
* **Network-control applications:**

  * Corren “sobre” el controlador (igual que las apps sobre un SO).
  * Ejemplos: un app de routing, un firewall, un balanceador de carga, un IDS.

 Los controladores se comunican con las apps vía una **northbound API** (ej: REST).

 Y con los switches vía una **southbound API** (ej: OpenFlow) .

 El SDN controller es como el **DT de un equipo de fútbol**: no juega, pero da las órdenes; los jugadores (switches) ejecutan jugadas.



## 5.5.2 OpenFlow Protocol

Es el protocolo estándar (sur-norte) para que un controlador hable con los switches .

* Los switches tienen una **flow table** con entradas *match-action*.
* El controlador puede:

  * Añadir/modificar/borrar entradas en esa tabla.
  * Consultar estadísticas.
  * Recibir notificaciones de eventos (p. ej. un paquete que no matcheó).

 Ejemplo de regla:

* **Match:** destino IP = 138.16.68.0/22
* **Action:** enviar al puerto 3.



## 5.5.3 Data and Control Plane Interaction: An Example

Ejemplo típico: llega un paquete a un switch y no encuentra coincidencia en su tabla .

1. El switch envía el paquete (o sus headers) al controlador vía OpenFlow.
2. El controlador corre su lógica (ej. consultar su base de rutas).
3. Responde al switch con la acción a tomar y opcionalmente instala una regla en la flow table para futuros paquetes.
4. El switch reenvía el paquete según lo indicado.

 Así, la primera vez se consulta al controlador; después el switch ya lo sabe y lo hace solo.



## 5.5.4 SDN: Past and Future

* **Pasado:**

  * Antes, cada router tenía su control plane integrado. SDN surgió para simplificar la gestión, dar más flexibilidad y facilitar innovación.
  * OpenFlow (2008) fue de los primeros intentos serios en separar planos .

* **Presente:**

  * Hoy existen muchos controladores (ONOS, OpenDaylight, Ryu, etc.) y APIs más allá de OpenFlow.
  * SDN se usa en datacenters, redes de campus, WANs de operadores.

* **Futuro:**

  * Más integración con **NFV (Network Functions Virtualization)**: firewalls, IDS, load balancers como software.
  * Automatización con **machine learning** y políticas declarativas.
  * El foco se amplía a **intent-based networking**: el admin declara “qué quiere lograr” y el sistema se encarga de implementarlo.



## Resumen 

* **SDN = separación control/data plane.**
* **Controller = cerebro de la red**, maneja visión global y comunica reglas.
* **Apps = lógica de red** (routing, seguridad, balanceo).
* **OpenFlow = protocolo estandarizado** para hablar controlador ↔ switches.
* **Ejemplo:** si un switch no conoce un paquete, pregunta al controller, que responde y actualiza reglas.
* **Futuro:** redes más automatizadas, flexibles y basadas en políticas    .

