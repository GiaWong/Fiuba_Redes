#  3.6 Principles of Congestion Control

##  ¿Qué es la congestión?

* La **congestión en la red** ocurre cuando demasiados hosts intentan enviar datos y los **recursos intermedios (routers, enlaces, buffers)** no pueden con todo.
* Resultado: **colas largas, pérdidas de paquetes y retardos altos**.

Ejemplo: Es como cuando mucha gente quiere entrar al subte al mismo tiempo → hay empujones, retrasos y algunos se quedan afuera (pérdidas).


##  Consecuencias de la congestión

1. **Pérdida de paquetes**

   * Cuando los buffers de un router se llenan, los paquetes extra se descartan.
2. **Retrasos**

   * Aunque no se pierdan, los paquetes esperan en cola.
3. **Trabajo desperdiciado**

   * Un paquete que se pierde en el medio igual consumió recursos de transmisión hasta el punto de pérdida.
4. **Retransmisiones innecesarias**

   * Si el emisor no distingue entre pérdida por congestión y pérdida por error, puede volver a enviar de más → empeorando la congestión.



##  Enfoques de control de congestión

Existen dos formas generales:

1. **Enfoque de Red Asistida (Network-Assisted)**

   * Los **routers** ayudan a los extremos, informando su nivel de congestión.
   * Ejemplo: señales de “ECN” (Explicit Congestion Notification) en IP.
   * Similar a un semáforo que te dice “precaución, mucho tráfico”.

2. **Enfoque de Extremo a Extremo (End-to-End)**

   * Los **hosts extremos (emisor y receptor)** infieren la congestión basándose en pérdidas de paquetes o tiempos de respuesta.
   * TCP, por ejemplo, ajusta la velocidad de envío cuando detecta problemas.
   * Es como manejar “a ojo”: si ves que el tránsito frena, levantás el pie del acelerador.


##  Curva de rendimiento bajo congestión

* La relación entre **tasa de envío** y **rendimiento bueno (throughput útil)** no es lineal.
* Cuando se supera la capacidad del enlace, el rendimiento se estanca e incluso puede bajar (por pérdidas y retransmisiones).
* Moral: **mandar más no siempre significa recibir más**.

Ejemplo: si la autopista soporta 100 autos por minuto y entran 200, no van a llegar 200 al destino, capaz llegan 80 por el quilombo del embotellamiento xd

##  Objetivos del control de congestión

* **Eficiencia**: usar al máximo la red sin colapsarla.
* **Justicia**: que todos los flujos compartan equitativamente la capacidad.
* **Estabilidad**: que el sistema no esté en ciclos de acelerar frenar todo el tiempo.



##  Relación con TCP

* En la próxima sección (3.7) se ve cómo TCP implementa **algoritmos de control de congestión** (ej. *slow start, AIMD, fast retransmit/fast recovery*).
* TCP es un ejemplo práctico de **end-to-end congestion control**.


1. Si tenés un link de 10 Mbps y 1 usuario, puede usarlo todo.
2. Si hay 5 usuarios, idealmente cada uno debería tener 2 Mbps → **justicia**.
3. Si todos mandan más de lo que pueden, los routers tiran paquetes → **ineficiencia**.



#  Resumen

* La congestión es el **cuello de botella** natural en redes de datos.
* Genera pérdidas, retrasos y desperdicio de recursos.
* Hay dos enfoques de control: **network-assisted** y **end-to-end**.
* El objetivo es mantener la red eficiente, justa y estable.
* TCP es el principal ejemplo real de control de congestión end-to-end en Internet.


